(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-275eea50"],{"75be":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"border-bottom"},[t._v("Notifications")]),t._l(t.notifications,(function(t){return i("div",{key:t.id},[i("Single",{attrs:{notification:t}})],1)})),t.showall?i("v-btn",{on:{click:function(e){return t.showAll()}}},[t._v("Show All")]):t._e(),t.showless?i("v-btn",{on:{click:function(e){return t.showLess()}}},[t._v("Show Less")]):t._e()],2)},n=[],s=(i("fb6a"),i("96cf"),i("1da1")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.getCardStyle(t.notification.type),staticStyle:{width:"100%"}},["issue"==t.notification.type?i("div",[i("div",{staticClass:"card-header"},[t._v(t._s(t.getCardHeader(t.notification.type)))]),i("div",{staticClass:"card-body"},[i("p",{staticClass:"card-text"},[t._v(t._s(t.notification.body))]),i("v-btn",{on:{click:function(e){return t.agreedClickHandler(t.notification.email)}}},[t._v("Approve")]),i("v-btn",{on:{click:function(e){return t.rejectedClickHandler(t.notification.email)}}},[t._v("Reject")])],1),i("div",{staticClass:"card-footer"},[t._v(t._s(t.notification.name))])]):i("div",[i("div",{staticClass:"card-header"},[t._v(t._s(t.getCardHeader(t.notification.type)))]),i("div",{staticClass:"card-body"},[i("p",{staticClass:"card-text"},[t._v(t._s(t.notification.body))])]),i("div",{staticClass:"card-footer"},[t._v(t._s(t.notification.name))])])])},c=[],r=i("56d7"),l={props:["notification"],methods:{getCardStyle:function(t){return"issue"==t?"card text-white bg-secondary mb-3":"stock"==t?"card text-white bg-danger mb-3":"change"==t?"card text-white bg-primary mb-3":"info-agreed"==t?"card text-white bg-success mb-3":"info-rejected"==t?"card text-white bg-danger mb-3":void 0},getCardHeader:function(t){return"Notification for :- ".concat(t.charAt(0).toUpperCase()+t.slice(1))},agreedClickHandler:function(t){r["db"].ref("notification").push({Name:this.$store.state.user.displayName,Email:this.$store.state.user.email,Body:"".concat(this.$store.state.user.displayName," has agreed to the booking."),Type:"info-agreed"}),window.Email.send({SecureToken:"516b8123-d120-42df-9bc2-de17edd0f342",To:t,From:"abc@example.com",Subject:"You can issue your item, your request was accepted",Body:"<html><h2>Header</h2></html>"}),this.$router.push({name:"JC"})},rejectedClickHandler:function(t){r["db"].ref("notification").push({Name:this.$store.state.user.displayName,Email:this.$store.state.user.email,Body:"".concat(this.$store.state.user.displayName," has rejected to the booking."),Type:"info-rejected"}),window.Email.send({SecureToken:"516b8123-d120-42df-9bc2-de17edd0f342",To:t,From:"abc@example.com",Subject:"Sorry, You can't issue your item right now.",Body:"<html><h2>Request rejected</h2></html>"}),this.$router.push({name:"JC"})}}},d=l,u=i("2877"),f=i("6544"),h=i.n(f),m=i("8336"),v=Object(u["a"])(d,o,c,!1,null,null,null),b=v.exports;h()(v,{VBtn:m["a"]});var p={components:{Single:b},data:function(){return{notifications:[],newNotifications:[],allNotifications:[],showless:!1,showall:!0}},created:function(){this.getItems()},mounted:function(){this.getItems()},methods:{showAll:function(){this.notifications=this.allNotifications,this.showless=!0,this.showall=!1},showLess:function(){this.notifications=this.newNotifications,this.showall=!0,this.showless=!1},getItems:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["db"].ref("notification");case 2:i=e.sent,a=[],i.on("value",(function(t){for(var e in t.val())a.push({id:e,body:t.val()[e].Body,email:t.val()[e].Email,name:t.val()[e].Name,type:t.val()[e].Type})})),console.log(a),t.newNotifications=a.slice(-5).slice(0,5).reverse(),t.allNotifications=a.reverse(),t.notifications=t.newNotifications;case 9:case"end":return e.stop()}}),e)})))()}}},w=p,g=Object(u["a"])(w,a,n,!1,null,null,null);e["a"]=g.exports;h()(g,{VBtn:m["a"]})},dfc1:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h1",{staticClass:"border-bottom m-4"},[t._v("Admin's Section")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-1"}),i("div",{staticClass:"col-lg-6"},t._l(t.names,(function(e){return i("div",{key:e.id,staticClass:"m-4"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title",staticStyle:{display:"flex","align-items":"left"}},[t._v(t._s(e.name))]),i("div",{staticStyle:{"align-items":"center"}},[i("router-link",{staticStyle:{"text-decoration":"none",color:"white","align-items":"right"},attrs:{to:t.redirect(e.id)}},[i("a",{staticClass:"btn btn-primary"},[t._v("Book from here")])])],1)])])])})),0),i("div",{staticClass:"col-lg-1"}),i("div",{staticClass:"col-lg-4"},[i("Notif")],1)])])},n=[],s=(i("b0c0"),i("96cf"),i("1da1")),o=i("75be"),c=i("56d7"),r={components:{Notif:o["a"]},data:function(){return{show:!1,itemId:null,name:null,damaged:0,total:0,working:0,names:[],factor:1}},mounted:function(){this.getItems(),this.check()},created:function(){this.check()},methods:{check:function(){this.$store.state.admin||this.$router.push({name:"Home"}).catch((function(){}))},getItems:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=c["db"].ref("data"),a=[],i.on("value",(function(t){for(var e in t.val())a.push({id:e,name:t.val()[e].name})})),t.names=a;case 4:case"end":return e.stop()}}),e)})))()},redirect:function(t){return"ItemJC/".concat(t)}}},l=r,d=i("2877"),u=Object(d["a"])(l,a,n,!1,null,"af473a00",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-275eea50.2341ea5c.js.map